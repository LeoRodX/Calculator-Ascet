<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ê—Å–∫–µ—Ç</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' rx='10' fill='orange'/><text x='50' y='70' font-family='Arial' font-size='60' text-anchor='middle' fill='white'>ü¶è</text></svg>">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Courier New', monospace;
            background-color: #f5f5f5;
            color: #333;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }
        
        .calculator-container {
            width: 100%;
            max-width: 800px;
            padding: 20px;
            text-align: center;
        }
        
        .display {
            font-size: 4.5rem;
            font-weight: 300;
            margin-bottom: 40px;
            min-height: 100px;
            word-break: break-all;
            overflow-wrap: break-word;
            padding: 10px;
            transition: color 0.2s;
        }
        
        .expression {
            font-size: 1.8rem;
            color: #777;
            min-height: 40px;
            margin-bottom: 10px;
            padding: 5px;
        }
        
        .instructions {
            margin-top: 60px;
            font-size: 1rem;
            color: #999;
            line-height: 1.6;
            max-width: 600px;
        }
        
        /* –°–∫—Ä—ã—Ç—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ */
        .hidden-input {
            opacity: 0;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            cursor: default;
            border: none;
            outline: none;
            background: transparent;
        }
        
        /* –≠—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–ª–∞–≤–∏—à–∏ */
        .keypress-effect {
            animation: keypress 0.2s ease;
        }
        
        @keyframes keypress {
            0% { transform: scale(1); }
            50% { transform: scale(0.98); }
            100% { transform: scale(1); }
        }
        
        /* –¢–µ–º–Ω–∞—è —Ç–µ–º–∞ */
        @media (prefers-color-scheme: dark) {
            body {
                background-color: #121212;
                color: #f0f0f0;
            }
            
            .expression {
                color: #aaa;
            }
            
            .instructions {
                color: #777;
            }
        }
        
        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 768px) {
            .display {
                font-size: 3.5rem;
            }
            
            .expression {
                font-size: 1.5rem;
            }
        }
        
        @media (max-width: 480px) {
            .display {
                font-size: 2.8rem;
            }
            
            .expression {
                font-size: 1.2rem;
            }
            
            .instructions {
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <div class="calculator-container">
        <div class="expression" id="expression"></div>
        <div class="display" id="display">0</div>
        
        <!-- –°–∫—Ä—ã—Ç–æ–µ –ø–æ–ª–µ –¥–ª—è –≤–≤–æ–¥–∞ —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã -->
        <input type="text" class="hidden-input" id="hiddenInput" autofocus>
    </div>
    
    <div class="instructions" id="instructions">
        <p>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ü–∏—Ñ—Ä–æ–≤—ã–µ –∫–ª–∞–≤–∏—à–∏ (0-9) –¥–ª—è –≤–≤–æ–¥–∞ —á–∏—Å–µ–ª</p>
        <p>–û–ø–µ—Ä–∞—Ü–∏–∏: + (—Å–ª–æ–∂–µ–Ω–∏–µ), - (–≤—ã—á–∏—Ç–∞–Ω–∏–µ), * (—É–º–Ω–æ–∂–µ–Ω–∏–µ), / (–¥–µ–ª–µ–Ω–∏–µ)</p>
        <p>Enter –∏–ª–∏ = –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è, Escape –∏–ª–∏ C –¥–ª—è –æ—á–∏—Å—Ç–∫–∏, Backspace –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Å–∏–º–≤–æ–ª–∞</p>
        <p>–¢–æ—á–∫–∞ (.) –¥–ª—è –≤–≤–æ–¥–∞ –¥–µ—Å—è—Ç–∏—á–Ω—ã—Ö –¥—Ä–æ–±–µ–π</p>
        <p>–ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–µ –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –≤–≤–æ–¥–∞ —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã</p>
    </div>

    <footer style="margin-top: 50px;">
        <div>
            &copy; Terre & Co, 2026
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const display = document.getElementById('display');
            const expression = document.getElementById('expression');
            const hiddenInput = document.getElementById('hiddenInput');
            const instructions = document.getElementById('instructions');
            
            let currentInput = '0';
            let previousInput = '';
            let operator = '';
            let expressionText = '';
            let resetOnNextInput = false;
            
            // –§–æ–∫—É—Å –Ω–∞ —Å–∫—Ä—ã—Ç–æ–º –ø–æ–ª–µ –≤–≤–æ–¥–∞
            hiddenInput.focus();
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤–≤–æ–¥–∞ —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
            document.addEventListener('keydown', function(e) {
                // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –¥–ª—è –Ω—É–∂–Ω—ã—Ö –∫–ª–∞–≤–∏—à
                const key = e.key;
                
                // –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏
                display.classList.remove('keypress-effect');
                void display.offsetWidth; // –¢—Ä–∏–≥–≥–µ—Ä –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–∏ –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏
                display.classList.add('keypress-effect');
                
                // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ü–∏—Ñ—Ä
                if (key >= '0' && key <= '9') {
                    handleNumberInput(key);
                }
                // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤
                else if (['+', '-', '*', '/'].includes(key)) {
                    handleOperator(key);
                }
                // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –∫–ª–∞–≤–∏—à
                else if (key === 'Enter' || key === '=') {
                    handleEquals();
                }
                else if (key === 'Escape' || key.toLowerCase() === 'c') {
                    handleClear();
                }
                else if (key === 'Backspace') {
                    handleBackspace();
                }
                else if (key === '.') {
                    handleDecimal();
                }
                else {
                    // –î–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –∫–ª–∞–≤–∏—à –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
                    return;
                }
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                updateDisplay();
                e.preventDefault();
            });
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –≤–≤–æ–¥–∞
            document.addEventListener('click', function(e) {
                hiddenInput.focus();
            });
            
            // –§—É–Ω–∫—Ü–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–≤–æ–¥–∞
            function handleNumberInput(num) {
                if (resetOnNextInput) {
                    currentInput = num;
                    resetOnNextInput = false;
                } else {
                    currentInput = currentInput === '0' ? num : currentInput + num;
                }
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –≤—ã—Ä–∞–∂–µ–Ω–∏–µ, –µ—Å–ª–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä —É–∂–µ –≤—ã–±—Ä–∞–Ω
                if (operator && previousInput) {
                    expressionText = `${previousInput} ${operator} ${currentInput}`;
                }
            }
            
            function handleOperator(op) {
                if (operator && previousInput && !resetOnNextInput) {
                    // –í—ã—á–∏—Å–ª—è–µ–º –ø—Ä–µ–¥—ã–¥—É—â—É—é –æ–ø–µ—Ä–∞—Ü–∏—é
                    calculate();
                }
                
                operator = op;
                previousInput = currentInput;
                resetOnNextInput = true;
                expressionText = `${previousInput} ${operator}`;
            }
            
            function handleEquals() {
                if (operator && previousInput) {
                    calculate();
                    expressionText = '';
                    operator = '';
                    resetOnNextInput = true;
                }
            }
            
            function handleClear() {
                currentInput = '0';
                previousInput = '';
                operator = '';
                expressionText = '';
                resetOnNextInput = false;
            }
            
            function handleBackspace() {
                if (currentInput.length > 1) {
                    currentInput = currentInput.slice(0, -1);
                } else {
                    currentInput = '0';
                }
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –≤—ã—Ä–∞–∂–µ–Ω–∏–µ
                if (operator && previousInput) {
                    expressionText = `${previousInput} ${operator} ${currentInput}`;
                }
            }
            
            function handleDecimal() {
                if (!currentInput.includes('.')) {
                    currentInput += '.';
                }
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –≤—ã—Ä–∞–∂–µ–Ω–∏–µ
                if (operator && previousInput) {
                    expressionText = `${previousInput} ${operator} ${currentInput}`;
                }
            }
            
            function calculate() {
                const prev = parseFloat(previousInput);
                const current = parseFloat(currentInput);
                
                if (isNaN(prev) || isNaN(current)) return;
                
                let result;
                switch (operator) {
                    case '+':
                        result = prev + current;
                        break;
                    case '-':
                        result = prev - current;
                        break;
                    case '*':
                        result = prev * current;
                        break;
                    case '/':
                        if (current === 0) {
                            result = '–û—à–∏–±–∫–∞';
                        } else {
                            result = prev / current;
                        }
                        break;
                    default:
                        return;
                }
                
                // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–Ω–∞–∫–æ–≤ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π
                if (typeof result === 'number') {
                    // –û–∫—Ä—É–≥–ª—è–µ–º –¥–æ 10 –∑–Ω–∞–∫–æ–≤ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π –¥–ª—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –æ—à–∏–±–æ–∫ –æ–∫—Ä—É–≥–ª–µ–Ω–∏—è
                    result = Math.round(result * 10000000000) / 10000000000;
                    // –£–±–∏—Ä–∞–µ–º –ª–∏—à–Ω–∏–µ –Ω—É–ª–∏ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π
                    result = parseFloat(result.toString());
                }
                
                currentInput = result.toString();
                previousInput = '';
            }
            
            function updateDisplay() {
                display.textContent = currentInput;
                expression.textContent = expressionText;
                
                // –í—Ä–µ–º–µ–Ω–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏
                if (currentInput !== '0' || expressionText !== '') {
                    instructions.style.opacity = '0.7';
                    // –°–∫—Ä—ã–≤–∞–µ–º –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥ –ø–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è
                    clearTimeout(window.instructionsTimeout);
                    window.instructionsTimeout = setTimeout(() => {
                        instructions.style.opacity = '0.3';
                    }, 5000);
                }
            }
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
            updateDisplay();
            
            // –ê–≤—Ç–æ—Å–∫—Ä—ã—Ç–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π —á–µ—Ä–µ–∑ 10 —Å–µ–∫—É–Ω–¥
            setTimeout(() => {
                instructions.style.transition = 'opacity 1.5s ease';
                instructions.style.opacity = '0.3';
            }, 10000);
        });
    </script>
</body>
</html>